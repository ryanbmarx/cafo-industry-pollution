@import "colors";

@mixin sans-serif-text($size){
	font-family: "Arial", sans-serif;
	line-height:1.3em;
	font-size:$size;
}

@mixin button(){
	@include sans-serif-text(10px);
	color:black;
	display: block;
	margin: 10px 0;
	padding:15px 0;
	background-color:#eee;
	text-align: center; 
	cursor:pointer;
	color:black;
	transition:all 150ms;
	text-decoration:none;
	&.active, &.active:hover{
		background-color:$highlight_color;
		font-weight: bold;
		color:white;
		transition:all 150ms;
		text-decoration:none;
	}

	&:hover{
		opacity: .8;
		color:black;
		text-decoration:none;
	}
}


@keyframes pulse {
  from { stroke-width: 1; }
  to { stroke-width: 4; }
}



@mixin pulse_animation(){
  animation-name: pulse;
  animation-duration: 500ms;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-direction: alternate;
}

$highlight_color:$trib_orange;

.pulse{
	@include pulse_animation();
}

@import "legends_and_keys";

// Map legend
  .key__bar{
    height:25px;
    border:1px solid #eee;
    background:linear-gradient(to right, white, $trib_red1);
    margin:15px 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width:100%;
  span{
    padding: 0 10px;
  }
}

.trb_mainContent .map_menu_intro p{ @include sans-serif-text(14px);}

// ##############
// Utilities
// ##############

.show-phone{display:none;}


.graphic-wrapper{
	max-width:650px;
	margin:auto;
}

// ##############
// INITIAL VISIBILITY
// ##############



%profile-marker{
	visibility:visible;
}

.profile-marker{
	&--inactive{
		@extend %profile-marker;
	}
	&--active{
		@extend %profile-marker;
		@include pulse_animation();
	}
}

.buttons{
	display:flex;
	justify-content:space-between;
	flex-wrap:wrap;
	.button{
		@include button();
		width:48%;
	}	
}

.next-button{
	@include button();
	width:100px;
	height:100px;
	border-radius:50%;
	padding:0;
	box-shadow:0 0 5px rgba(0,0,0,.2);
	position:fixed;
	bottom:0;
	right:0;
	margin:0 50px 50px 0;
}


// ##############
// MAP
// ##############


#map{
	height:600px;
	border: 1px solid #eee;

}

// ##############
// CHART
// ##############
#pig-chart-container{

}

.pigchart{
	position: relative;
}

.trb_mainContent .chart-annotation {
	padding: 10px;
	background: #eee;
	// border: 1px solid #eee;
	width: 280px;
	position: absolute;
	transition: all 300ms;
	p{
		font-size: 25px;
		line-height: 1.3em;
		font-style: italic;
		margin:0;	
	}
}

.bar{
	&--big{
		fill:$trib_blue;
	}
	&--rest{
		fill:$trib_light_blue;
	}
}

.bar-label{
	&--big, &--rest{
		@include sans-serif-text(11px);
		font-weight:bold;
		text-align:center;
	}
}

.axis{
	@include sans-serif-text(10px);

	&.x{
		font-weight: bold;
	}
}

.changeline{
	&--rest{
		stroke:red;
		fill:none;
	}
	&--big{
		stroke:yellow;
		fill:none;
	}
}
// ##############
// BUTTONS/UI
// ##############

%profile-button-carat{
	font-family: trb_Icons;
	position: relative;
	top: 1px;
	margin: 0 4px;
	background: #aaa;
	color: white;
	border-radius: 50%;
	padding: 4px;
}

.map-select{width:100%}

.trb_mainContent .nav-wrapper{
	display:flex;
	justify-content:space-between;
	flex-wrap:wrap;

	.button{
		@include button();
		
		&.map-button{width:18%}
		&.chart-button{width:32%}
		&.profile-button{
			width:49%;
			&[data-direction='next']{
				border-radius: 0 5px 5px 0;
				&:after{
					@extend %profile-button-carat;
					content:'w';
				}
			}

			&[data-direction='back']{
				border-radius: 5px 0 0 5px;
				&:before{
					@extend %profile-button-carat;
					content:'v';
				}
			}
		}
	}
}



.label{
	@include sans-serif-text(14px);
	font-weight:bold;
}


.legend__divider{
	border:none;
	height:1px;
	background:$trib_light_gray;
	margin:10px 0;
}

.profile-marker{
	&:hover{
		fill:$trib_orange;
	}
}

.trb_mainContent #profile-container p{
	@include sans-serif-text(14px);
	.address{
		font-style:italic;
	}
}

.trb_mainContent .credits{
	@include sans-serif-text(12px);
}

@media all and (max-width:700px){
	// Utilities
	.hide-phone{display:none !important;}
	.show-phone{display:block;}
}